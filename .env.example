# Timestamp (UTC): 2025-12-22T17:35:36Z
# Copy this file to .env and fill in your actual values.

# Binance API credentials (required for --trade-mode auto/real)
BINANCE_API_KEY=
BINANCE_API_SECRET=

# EOD email reporting (optional)
# Used by scripts/eod_report_2025-12-22T15-48-42Z.py (and by the live runner if you pass --eod-send-email)
EMAIL_TO=
EMAIL_FROM=
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_STARTTLS=1
SMTP_SSL=0

# Optional: if you run against a different endpoint (leave as default unless you know why)
# BINANCE_BASE_URL=https://fapi.binance.com

# -----------------
# dYdX v4 live bot
# -----------------
# No API key is needed for dYdX v4. Trading is signed with your wallet mnemonic.
# Paste these into your local .env (DO NOT commit that file).

# Required for live trading on dYdX v4
DYDX_MNEMONIC=
# Optional: if omitted, the bot will derive it from DYDX_MNEMONIC
DYDX_ADDRESS=

# Network: mainnet | testnet
DYDX_ENV=mainnet

# Mainnet endpoints (required when DYDX_ENV=mainnet)
DYDX_INDEXER_REST=https://indexer.dydx.trade
DYDX_INDEXER_WS=wss://indexer.dydx.trade/v4/ws
# gRPC endpoint as host:port (NO scheme). Example: oegs.dydx.trade:443
DYDX_NODE_GRPC=

# For DYDX_ENV=testnet you can omit DYDX_NODE_GRPC (the client uses built-in testnet endpoints).

# Subaccounts (two-account scheme)
DYDX_SUBACCOUNT_BANK=0
DYDX_SUBACCOUNT_TRADING=1

# Trading policy
DYDX_MARKET=BTC-USD
DYDX_TRADE_FLOOR_USDC=10
DYDX_PROFIT_SIPHON_FRAC=0.30

# Bankroll policy
# - Floor top-ups from bank->trading are only allowed when bank_equity < DYDX_BANK_THRESHOLD_USDC
# - If the bot detects a liquidation / external close while it thought a position was open,
#   and bank_equity >= DYDX_BANK_THRESHOLD_USDC, it will transfer
#   bank_equity * DYDX_LIQUIDATION_RECAP_BANK_FRAC from bank->trading.
DYDX_BANK_THRESHOLD_USDC=280
DYDX_LIQUIDATION_RECAP_BANK_FRAC=0.10

# Fee assumption used for realized_ret_pct reporting (per-side).
# Default matches training/backtests (0.001).
DYDX_FEE_SIDE=0.001

# Sizing safety (use near-max leverage whenever possible, with small buffers)
DYDX_USE_MARGIN_FRAC=0.98
DYDX_LEVERAGE_SAFETY_FRAC=0.98
# If 0/auto/max: use the market's maximum leverage.
DYDX_MAX_LEVERAGE=auto

# Real-order fill safety for IOC "market" orders.
# dYdX v4 uses an IOC limit under the hood; we set the limit price to oracle*(1Â±slippage).
# Increase slightly if you see entry orders not filling.
DYDX_ORDER_SLIPPAGE_FRAC=0.002

# Optional overrides
# If unset, the bot will try to discover this via the chain Assets query.
DYDX_USDC_ASSET_ID=
